# FKB 悬浮触控助手 (重构版)

一个轻量级的 Windows 游戏辅助工具，全屏覆盖在游戏画面上，提供悬浮透明按钮，点击按钮即可模拟键盘操作。

## 功能特性

- **全屏覆盖**: 编辑和运行模式均全屏覆盖显示器，与游戏画面完美对齐。
- **虚拟触控**: 支持点击、悬浮(Hover)、中键、滚轮触发。
- **智能穿透**: 
  - 当鼠标在按钮区域时，拦截点击（触发功能）。
  - 当鼠标在空白区域时，点击直接穿透到游戏（需开启穿透模式）。
- **编辑模式**: 半透明遮罩下可视化拖拽编辑按钮位置和大小。
- **配置管理**: 支持导入/导出 JSON 配置，内置鬼泣等游戏预设。

## 快速开始

1. 双击 `run.bat` 启动。
2. **编辑模式** (默认 - 全屏半透明遮罩):
   - 点击 `✚ 新建` 添加按钮。
   - 拖拽按钮调整位置，拖拽右下角调整大小。
   - 双击按钮修改按键映射。
   - 使用底部滑块调整运行时透明度。
   - 点击 `✕ 退出` 关闭程序。
3. 点击 `▶ 运行` 进入**运行模式**。
4. **运行模式** (全屏透明):
   - 点击按钮触发对应按键。
   - 点击 `穿透:关` 切换穿透模式。
   - 点击 `隐藏[-]` 收起为悬浮球。
   - 点击 `退出(F12)` 或按 F12 键返回编辑模式。

## 目录结构

- `main.py`: 启动入口
- `config.json`: 用户配置文件
- `core/`: 核心逻辑 (输入模拟、配置管理)
- `ui/`: 界面绘制与交互逻辑
- `presets/`: 预设配置文件 (鬼泣1/2)
- `_archive/`: 旧版本代码备份

## 二次开发

推荐使用 Python 3.10+。

```bash
# 安装依赖
pip install keyboard pyinstaller

# 运行
python main.py

# 打包
build.bat
```
